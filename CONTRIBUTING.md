# Contributing Guidelines

This project has two major surfaces: a Flask backend and a React frontend. To keep things predictable and avoid style regressions, we follow a “single source of truth” approach for CSS and component styling.

## CSS Ownership Map (Single Source of Truth)

- Navigation (top bar, links, user menu): `react/frontend/src/styles/dashboard.css`
  - Do not place navbar/dropdown styles in `App.css`.

- Landing Pages (Home, About, Introduction): `react/frontend/src/styles/landing-pages.css`
  - Use classes: `landing-page`, `landing-header`, `landing-content`, `landing-section`.
  - KPI grid on Home uses container-scoped `.modern-dashboard-home .metrics-grid`.

- Dashboard Pages (analysis views): `react/frontend/src/styles/modern-layout.css`
  - Use container class `modern-dashboard` for charts and metrics.
  - Do not mix with `layouts/dashboard-layout.css` in the same page.

- Tables (search/sort/paginate/export): `react/frontend/src/components/modern/DataTable.css`
  - Use the `DataTable` component; table markup should use `modern-table` classes generated by the component.
  - Avoid legacy `.data-table` styles — they are removed and guarded by stylelint.

- Export Dropdown (react-bootstrap Dropdown): Scoped in `react/frontend/src/styles/components.css` under `.export-dropdown`.

- Component visuals (cards, widgets): Prefer CSS Modules colocated with the component (e.g., `MetricCard.module.css`).

## Stylelint Guardrails

Stylelint is configured to prevent reintroducing conflicting selectors:

- Disallows legacy `.metric-card` and `.data-table` selectors globally.
- Blocks navbar selectors in `App.css`.
- Blocks unscoped `.chart-*`, `.metrics-grid`, and navbar selectors in `styles/components.css`.

Run `npm run lint:css` in `react/frontend` to validate.

## General Frontend Guidelines

- Prefer component-scoped styles (CSS Modules) for reusable components.
- Scope page styles under a page container (`.landing-page` or `.modern-dashboard`).
- Avoid generic global class names without a container prefix.
- Keep exports and dropdown menus scoped via a wrapper class to avoid collisions.

## Backend Notes

- API endpoints: add to Flask blueprints under `flask/api/`.
- Services go in `flask/services/`; utils in `flask/utils/`.
- Avoid duplicating logic between services; prefer adding a single shared helper.

## Submitting Changes

- Keep changes focused; do not mix unrelated refactors.
- Ensure `pytest` and frontend `npm test` pass locally.
- For UI updates, include a short note or screenshot in your PR to illustrate changes.
